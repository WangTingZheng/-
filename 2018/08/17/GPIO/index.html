<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>GPIO的硬件情况与软件配置 | 我的博客</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="一、GPIO接口的情况1、数量与编号STM32F103VE-EK中的V储存着该芯片的引脚位数信息
V代表本开发板有144个引脚，但需要注意的是，这144个引脚并非全都是GPIO引脚">
<meta property="og:type" content="article">
<meta property="og:title" content="GPIO的硬件情况与软件配置">
<meta property="og:url" content="http://yoursite.com/2018/08/17/GPIO/index.html">
<meta property="og:site_name" content="我的博客">
<meta property="og:description" content="一、GPIO接口的情况1、数量与编号STM32F103VE-EK中的V储存着该芯片的引脚位数信息
V代表本开发板有144个引脚，但需要注意的是，这144个引脚并非全都是GPIO引脚">
<meta property="og:image" content="https://i.loli.net/2018/08/12/5b6fa1c1c2a52.png">
<meta property="og:image" content="https://i.loli.net/2018/08/12/5b6fb36ec3850.png">
<meta property="og:image" content="https://i.loli.net/2018/08/12/5b6fbfe581be7.png">
<meta property="og:image" content="https://i.loli.net/2018/08/13/5b71285a294f4.png">
<meta property="og:image" content="https://i.loli.net/2018/08/13/5b717743e79a6.png">
<meta property="og:image" content="https://i.loli.net/2018/08/13/5b7178791b100.png">
<meta property="og:image" content="https://i.loli.net/2018/08/13/5b717b86a7967.png">
<meta property="og:image" content="https://i.loli.net/2018/08/13/5b718200c53b9.png">
<meta property="og:image" content="https://i.loli.net/2018/08/13/5b718eb4aee27.png">
<meta property="og:image" content="https://i.loli.net/2018/08/13/5b71924662df3.png">
<meta property="og:image" content="https://i.loli.net/2018/08/13/5b7192b93289e.png">
<meta property="og:updated_time" content="2018-09-08T09:14:52.872Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="GPIO的硬件情况与软件配置">
<meta name="twitter:description" content="一、GPIO接口的情况1、数量与编号STM32F103VE-EK中的V储存着该芯片的引脚位数信息
V代表本开发板有144个引脚，但需要注意的是，这144个引脚并非全都是GPIO引脚">
<meta name="twitter:image" content="https://i.loli.net/2018/08/12/5b6fa1c1c2a52.png">
  
    <link rel="alternative" href="/atom.xml" title="我的博客" type="application/atom+xml">
  
  
    <link rel="icon" href="/img/favicon.png">
  
  
      <link rel="stylesheet" href="//cdn.bootcss.com/animate.css/3.5.0/animate.min.css">
  
  <link rel="stylesheet" href="/css/style.css">
  <link rel="stylesheet" href="/font-awesome/css/font-awesome.min.css">
  <link rel="apple-touch-icon" href="/apple-touch-icon.png">
  
  
      <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  
  <!-- 加载特效 -->
    <script src="/js/pace.js"></script>
    <link href="/css/pace/pace-theme-flash.css" rel="stylesheet" />
  <script>
      var yiliaConfig = {
          rootUrl: '/',
          fancybox: true,
          animate: true,
          isHome: false,
          isPost: true,
          isArchive: false,
          isTag: false,
          isCategory: false,
          open_in_new: false
      }
  </script>
<link rel="stylesheet" href="/css/prism-tomorrow.css" type="text/css"></head>
<body>
  <div id="container">
    <div class="left-col">
    <div class="overlay"></div>
<div class="intrude-less">
    <header id="header" class="inner">
        <a href="/" class="profilepic">
            
            <img lazy-src="/img/head.jpg" class="js-avatar">
            
        </a>

        <hgroup>
          <h1 class="header-author"><a href="/" title="Hi Mate">Engou</a></h1>
        </hgroup>

        
        <p class="header-subtitle">学习使我快乐</p>
        
        
        
            <div id="switch-btn" class="switch-btn">
                <div class="icon">
                    <div class="icon-ctn">
                        <div class="icon-wrap icon-house" data-idx="0">
                            <div class="birdhouse"></div>
                            <div class="birdhouse_holes"></div>
                        </div>
                        <div class="icon-wrap icon-ribbon hide" data-idx="1">
                            <div class="ribbon"></div>
                        </div>
                        
                        <div class="icon-wrap icon-link hide" data-idx="2">
                            <div class="loopback_l"></div>
                            <div class="loopback_r"></div>
                        </div>
                        
                        
                        <div class="icon-wrap icon-me hide" data-idx="3">
                            <div class="user"></div>
                            <div class="shoulder"></div>
                        </div>
                        
                    </div>
                    
                </div>
                <div class="tips-box hide">
                    <div class="tips-arrow"></div>
                    <ul class="tips-inner">
                        <li>菜单</li>
                        <li>标签</li>
                        
                        <li>友情链接</li>
                        
                        
                        <li>关于我</li>
                        
                    </ul>
                </div>
            </div>
        

        <div id="switch-area" class="switch-area">
            <div class="switch-wrap">
                <section class="switch-part switch-part1">
                    <nav class="header-menu">
                        <ul>
                        
                            <li><a href="/Home">博客首页</a></li>
                        
                            <li><a href="/works">作品展示</a></li>
                        
                            <li><a href="/about">留言打卡</a></li>
                        
                            <li><a href="/FrontEndGuide">前端导航</a></li>
                        
                        </ul>
                    </nav>
                    <nav class="header-nav">
                        <ul class="social">
                            
                                <a class="fl mail" target="_blank" href="http://mail.qq.com/cgi-bin/qm_share?t=qm_mailme&email=PAkNDgsKBQ4MCnxNTRJfU1E" title="mail">mail</a>
                            
                                <a class="fl github" target="_blank" href="https://github.com/wangtingzheng" title="github">github</a>
                            
                                <a class="fl zhihu" target="_blank" href="https://www.zhihu.com/people/wang-ting-zheng-45/activities" title="zhihu">zhihu</a>
                            
                                <a class="fl weibo" target="_blank" href="#" title="weibo">weibo</a>
                            
                                <a class="fl google" target="_blank" href="#" title="google">google</a>
                            
                                <a class="fl twitter" target="_blank" href="#" title="twitter">twitter</a>
                            
                                <a class="fl linkedin" target="_blank" href="#" title="linkedin">linkedin</a>
                            
                        </ul>
                    </nav>
                </section>
                
                
                <section class="switch-part switch-part2">
                    <div class="widget tagcloud" id="js-tagcloud">
                        <a href="/tags/STM32/" style="font-size: 20px;">STM32</a> <a href="/tags/hexo/" style="font-size: 20px;">hexo</a> <a href="/tags/军事/" style="font-size: 10px;">军事</a> <a href="/tags/大物实验/" style="font-size: 10px;">大物实验</a> <a href="/tags/张召忠/" style="font-size: 10px;">张召忠</a> <a href="/tags/战争/" style="font-size: 10px;">战争</a> <a href="/tags/教程/" style="font-size: 20px;">教程</a> <a href="/tags/数学/" style="font-size: 10px;">数学</a> <a href="/tags/日记/" style="font-size: 10px;">日记</a> <a href="/tags/模拟电路/" style="font-size: 10px;">模拟电路</a> <a href="/tags/电路分析/" style="font-size: 10px;">电路分析</a> <a href="/tags/课堂笔记/" style="font-size: 20px;">课堂笔记</a> <a href="/tags/课题笔记/" style="font-size: 10px;">课题笔记</a> <a href="/tags/逻辑/" style="font-size: 10px;">逻辑</a>
                    </div>
                </section>
                
                
                
                <section class="switch-part switch-part3">
                    <div id="js-friends">
                    
                      <a target="_blank" class="main-nav-link switch-friends-link" href="http://luuman.github.io/">name</a>
                    
                    </div>
                </section>
                

                
                
                <section class="switch-part switch-part4">
                
                    <div id="js-aboutme">纯海迷、爱运动、爱交友、爱旅行、喜欢接触新鲜事物、迎接新的挑战，更爱游离于错综复杂的编码与逻辑中</div>
                </section>
                
            </div>
        </div>
    </header>                
</div>
    </div>
    <div class="mid-col">
      <nav id="mobile-nav">
      <div class="overlay">
          <div class="slider-trigger"></div>
          <h1 class="header-author js-mobile-header hide"><a href="/" title="Me">Engou</a></h1>
      </div>
    <div class="intrude-less">
        <header id="header" class="inner">
            <a href="/" class="profilepic">
                
                    <img lazy-src="/img/head.jpg" class="js-avatar">
                
            </a>
            <hgroup>
              <h1 class="header-author"><a href="/" title="Me">Engou</a></h1>
            </hgroup>
            
            <p class="header-subtitle">学习使我快乐</p>
            
            <nav class="header-menu">
                <ul>
                
                    <li><a href="/Home">博客首页</a></li>
                
                    <li><a href="/works">作品展示</a></li>
                
                    <li><a href="/about">留言打卡</a></li>
                
                    <li><a href="/FrontEndGuide">前端导航</a></li>
                
                <div class="clearfix"></div>
                </ul>
            </nav>
            <nav class="header-nav">
                <div class="social">
                    
                        <a class="mail" target="_blank" href="http://mail.qq.com/cgi-bin/qm_share?t=qm_mailme&email=PAkNDgsKBQ4MCnxNTRJfU1E" title="mail">mail</a>
                    
                        <a class="github" target="_blank" href="https://github.com/wangtingzheng" title="github">github</a>
                    
                        <a class="zhihu" target="_blank" href="https://www.zhihu.com/people/wang-ting-zheng-45/activities" title="zhihu">zhihu</a>
                    
                        <a class="weibo" target="_blank" href="#" title="weibo">weibo</a>
                    
                        <a class="google" target="_blank" href="#" title="google">google</a>
                    
                        <a class="twitter" target="_blank" href="#" title="twitter">twitter</a>
                    
                        <a class="linkedin" target="_blank" href="#" title="linkedin">linkedin</a>
                    
                </div>
            </nav>
        </header>                
    </div>
</nav>
      <div class="body-wrap"><article id="post-GPIO" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2018/08/17/GPIO/" class="article-date">
      <time datetime="2018-08-17T15:52:24.000Z" itemprop="datePublished">2018-08-17</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      GPIO的硬件情况与软件配置
    </h1>
  

      </header>
      
      <div class="article-info article-info-post">
        
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/技术/">技术</a>
    </div>


        
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/STM32/">STM32</a></li></ul>
    </div>

        <div class="clearfix"></div>
      </div>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <h1 id="一、GPIO接口的情况"><a href="#一、GPIO接口的情况" class="headerlink" title="一、GPIO接口的情况"></a>一、GPIO接口的情况</h1><h2 id="1、数量与编号"><a href="#1、数量与编号" class="headerlink" title="1、数量与编号"></a>1、数量与编号</h2><p>STM32F103VE-EK中的V储存着该芯片的引脚位数信息</p>
<p>V代表本开发板有144个引脚，但需要注意的是，这144个引脚并非全都是GPIO引脚</p>
<a id="more"></a>
<h3 id="1-1-GPIO引脚的组"><a href="#1-1-GPIO引脚的组" class="headerlink" title="1.1 GPIO引脚的组"></a>1.1 GPIO引脚的组</h3><p>从<code>GPIOA</code> 到<code>GPIOG</code> ，总共有<strong>七组</strong> GPIO引脚</p>
<p>每一组GPIO接口有0——15 <strong>16</strong> 个引脚，需要十分要注意的是<strong>并没有第16号接口</strong></p>
<p>总结：总共具有7*16=112个GPIO接口</p>
<p><img src="https://i.loli.net/2018/08/12/5b6fa1c1c2a52.png" alt="引脚图"></p>
<h2 id="2、功能与性质"><a href="#2、功能与性质" class="headerlink" title="2、功能与性质"></a>2、功能与性质</h2><p>在文件 <a href="https://www.bilibili.com/video/av8938442/?p=10" target="_blank" rel="external">STM32F103RTC.pdf</a>中有关于GPIO引脚的详细说明。现对该表格进行解释</p>
<p><img src="https://i.loli.net/2018/08/12/5b6fb36ec3850.png" alt="GPIOPIN"></p>
<p>可以看到该表格总共有6大列</p>
<h4 id="2-1第一列：Pins-主要表现的是该引脚在不同型号开发板上的序号"><a href="#2-1第一列：Pins-主要表现的是该引脚在不同型号开发板上的序号" class="headerlink" title="2.1第一列：Pins 主要表现的是该引脚在不同型号开发板上的序号"></a>2.1第一列：Pins 主要表现的是该引脚在不同型号开发板上的序号</h4><ul>
<li>例如所有类型的开发板都有PB4这个引脚，其中，在LQFP144(我的STM32F103VE就是属于这一类)中，这个引脚就是它的第134号引脚</li>
</ul>
<h4 id="2-2第二列：Pin-name-这个不用说了，就是引脚的名字"><a href="#2-2第二列：Pin-name-这个不用说了，就是引脚的名字" class="headerlink" title="2.2第二列：Pin name 这个不用说了，就是引脚的名字"></a>2.2第二列：Pin name 这个不用说了，就是引脚的名字</h4><ul>
<li>例如这个PB4就代表B组GPIO接口的4号(第5号接口)</li>
</ul>
<h4 id="2-3-第三列：Type-引脚的类型"><a href="#2-3-第三列：Type-引脚的类型" class="headerlink" title="2.3 第三列：Type 引脚的类型"></a>2.3 第三列：Type 引脚的类型</h4><ul>
<li>主要也I/O型和S型</li>
<li>I/O型就是指<strong>I</strong>nput and <strong>O</strong>utput型，即输入输出型</li>
<li>S型就是指 Supply型，也就是供应型，但具体有什么含义还有待研究</li>
</ul>
<h4 id="2-4-第四列：I-O-Level-是否可容忍5v电压"><a href="#2-4-第四列：I-O-Level-是否可容忍5v电压" class="headerlink" title="2.4 第四列：I/O Level 是否可容忍5v电压"></a>2.4 第四列：I/O Level 是否可容忍5v电压</h4><ul>
<li>具有<code>FT</code> 标识的就是能够容忍5v电压的引脚，其中<code>FT</code> 代表5 (<strong>F</strong>ive)  V <strong>T</strong>olerant</li>
<li>无此标记的引脚只能最高容忍3.3V的电压</li>
</ul>
<h4 id="2-5第五列：Main-functions-引脚的主要功能-通用功能"><a href="#2-5第五列：Main-functions-引脚的主要功能-通用功能" class="headerlink" title="2.5第五列：Main functions 引脚的主要功能(通用功能)"></a>2.5第五列：Main functions 引脚的主要功能(通用功能)</h4><p><strong>即GPIO功能，当做普通的I/O引脚使用。</strong></p>
<p>复位期间和刚复位后，复用功能未开启，I/O端口被配置成<code>浮空输入模式</code>(CNFx[1:0]=01b，MODEx[1:0]=00b)。 复位后，JTAG引脚被置于<code>输入上拉</code>或<code>下拉模式</code>：</p>
<ul>
<li>PA15：JTDI置于上拉模式 </li>
<li>PA14：JTCK置于下拉模式 </li>
<li>PA13：JTMS置于上拉模式 </li>
<li>PB4： JNTRST置于上拉模式</li>
</ul>
<p>当作为输出配置时，写到输出数据寄存器上的值(GPIOx_ODR)输出到相应的I/O引脚。可以以推挽模式或开漏模式(当输出0时，只有N-MOS被打开)使用输出驱动器。 </p>
<p>输入数据寄存器(GPIOx_IDR)在每个APB2时钟周期捕捉I/O引脚上的数据。 </p>
<p>所有GPIO引脚有一个内部弱上拉和弱下拉，当配置为输入时，它们可以被激活也可以被断开。</p>
<h4 id="2-6-第六列：Alternate-functions-可选择的功能-复用功能"><a href="#2-6-第六列：Alternate-functions-可选择的功能-复用功能" class="headerlink" title="2.6 第六列：Alternate functions (可选择的功能) 复用功能"></a>2.6 第六列：Alternate functions (可选择的功能) 复用功能</h4><ul>
<li><p>分为<code>默认(Default)</code>和<code>重映射功能(Remap)</code></p>
</li>
<li><p>即片内外设，包括<code>UART</code>、<code>SPI</code>、<code>CAN</code>、<code>I2C</code>等等，开启这些外设的功能，就是使用了系统的复用功能。</p>
<p>复用功能有两种：没有重映像、重映像（包括部分重映像、完全重映像），使用引脚用作AFIO功能，同样需要对其进行配置。</p>
</li>
</ul>
<p><img src="https://i.loli.net/2018/08/12/5b6fbfe581be7.png" alt="PB4"></p>
<p>举个例子：在我的144引脚的STM32F103VE中，PB4是第134号引脚，此引脚为I/O(输入输出引脚)，具有容忍5V高压的能力，主要功能是NJTRST，<a href="https://zhidao.baidu.com/question/684409963134390172.html" target="_blank" rel="external">NJTRST是仿真器调试时的JTAG对内核的调试复位信号，一般用于信号调试，建议不要用作他用。</a> 可选功能中的默认功能是SPI3_MISO，其中的重映射功能是PB4 / TIM3_CH1和SPI1_MISO</p>
<h1 id="二、GPIO的几种模式"><a href="#二、GPIO的几种模式" class="headerlink" title="二、GPIO的几种模式"></a>二、GPIO的几种模式</h1><pre class=" language-lang-c"><code class="language-lang-c">typedef enum
{ 
  GPIO_Mode_AIN = 0x0,                         /* 模拟输入 */
  GPIO_Mode_IN_FLOATING = 0x04,                /* 输入浮空 */
  GPIO_Mode_IPD = 0x28,                        /* 输入下拉 */
  GPIO_Mode_IPU = 0x48,                        /* 输入上拉 */

  GPIO_Mode_Out_OD = 0x14,                    /* 开漏输出 */
  GPIO_Mode_Out_PP = 0x10,                    /* 推挽式输出 */
  GPIO_Mode_AF_OD = 0x1C,                    /* 开漏复用 输出 */
  GPIO_Mode_AF_PP = 0x18                    /* 推挽式复用 输出 */
}GPIOMode_TypeDef;
</code></pre>
<h2 id="输入"><a href="#输入" class="headerlink" title="输入"></a>输入</h2><h3 id="1-模拟输入-GPIO-Mode-AIN-0x0"><a href="#1-模拟输入-GPIO-Mode-AIN-0x0" class="headerlink" title="1.模拟输入(GPIO_Mode_AIN = 0x0)"></a>1.模拟输入<code>(GPIO_Mode_AIN = 0x0)</code></h3><p><img src="https://i.loli.net/2018/08/13/5b71285a294f4.png" alt="模拟"></p>
<h4 id="模拟输入：analog-input"><a href="#模拟输入：analog-input" class="headerlink" title="模拟输入：analog input"></a><strong>模拟输入</strong>：<strong>a</strong>nalog <strong>in</strong>put</h4><p>这个好理解，就是可以输入电压而非电平，输入的并非是0或1而是一个具体的电压值</p>
<h3 id="2-浮空输入-GPIO-Mode-IN-FLOATING-0x04"><a href="#2-浮空输入-GPIO-Mode-IN-FLOATING-0x04" class="headerlink" title="2.浮空输入(GPIO_Mode_IN_FLOATING = 0x04)"></a>2.浮空输入<code>(GPIO_Mode_IN_FLOATING = 0x04)</code></h3><p><img src="https://i.loli.net/2018/08/13/5b717743e79a6.png" alt="浮空"></p>
<h4 id="浮空输入：floating-input"><a href="#浮空输入：floating-input" class="headerlink" title="浮空输入：floating input"></a><strong>浮空输入</strong>：<strong>floating</strong> <strong>in</strong>put</h4><p>由于浮空输入<strong>一般多用于外部按键输入</strong>，结合图上的输入部分电路，我理解为浮空输入状态下，IO的电平状态是不确定的，完全由外部输入决定，如果在该引脚悬空的情况下，读取该端口的电平是不确定的。[<a href="https://baike.baidu.com/item/%E4%B8%8A%E6%8B%89%E7%94%B5%E9%98%BB/6810953?fr=aladdin#ref_[1]_1106477" target="_blank" rel="external">来源</a>] </p>
<h3 id="3-输入下拉-GPIO-Mode-IPD-0x28"><a href="#3-输入下拉-GPIO-Mode-IPD-0x28" class="headerlink" title="3.输入下拉(GPIO_Mode_IPD = 0x28)"></a>3.输入下拉<code>(GPIO_Mode_IPD = 0x28)</code></h3><p><img src="https://i.loli.net/2018/08/13/5b7178791b100.png" alt="输入下拉"></p>
<h4 id="输入下拉：input-down"><a href="#输入下拉：input-down" class="headerlink" title="输入下拉：input down"></a><strong>输入下拉</strong>：<strong>in</strong>put <strong>d</strong>own</h4><p>下拉电阻的主要作用是与上接电阻一起在电路驱动器关闭时给线路（节点）以一个固定的电平。[<a href="https://baike.baidu.com/item/%E4%B8%8B%E6%8B%89%E7%94%B5%E9%98%BB" target="_blank" rel="external">来源</a>] </p>
<p>同样还有下拉电阻它是为了保证无信号输入时输入端的电平为低电平。 [<a href="https://zhidao.baidu.com/question/332306095850748645.html" target="_blank" rel="external">来源</a>]</p>
<h3 id="4-输入上拉-GPIO-Mode-IPU-0x48"><a href="#4-输入上拉-GPIO-Mode-IPU-0x48" class="headerlink" title="4.输入上拉(GPIO_Mode_IPU =0x48)"></a>4.输入上拉<code>(GPIO_Mode_IPU =0x48)</code></h3><p><img src="https://i.loli.net/2018/08/13/5b717b86a7967.png" alt="输入上拉"></p>
<h4 id="输入上拉：input-up"><a href="#输入上拉：input-up" class="headerlink" title="输入上拉：input up"></a><strong>输入上拉</strong>：<strong>in</strong>put <strong>u</strong>p</h4><p>在上拉电阻所连接的导线上，如果<code>外部组件</code><strong>未启用</strong>，上拉电阻则“微弱地”将输入电压信号“<strong>拉高</strong>”。当外部组件<strong>未连接</strong>时，对输入端来说，外部“看上去”就是高阻抗的。这时，通过上拉电阻可以将<code>输入端口处的电压</code><strong>拉高到高电平</strong>。如果外部组件<strong>启用</strong>，它将<strong><em>取消上拉电阻所设置的高电平</em> </strong>。通过这样，上拉电阻可以使<code>引脚</code>即使在<strong>未连接外部组件</strong>的时候也能<strong>保持确定的逻辑电平</strong>。 [<a href="https://baike.baidu.com/item/%E4%B8%8A%E6%8B%89%E7%94%B5%E9%98%BB/6810953?fr=aladdin#ref_[1]_1106477" target="_blank" rel="external">来源</a>]</p>
<p>上拉电阻的目的是为了保证在无信号输入时输入端的电平为高电平。而在信号输入为低电平是输入端的电平应该也为低电平。如果没有上拉电阻，在没有外界输入的情况下输入端是悬空的，它的电平是未知的无法保证的，上拉电阻就是为了保证无信号输入时输入端的电平为高电平，同样还有下拉电阻它是为了保证无信号输入时输入端的电平为低电平。[<a href="https://zhidao.baidu.com/question/332306095850748645.html" target="_blank" rel="external">来源</a>]</p>
<h2 id="输出-较少用"><a href="#输出-较少用" class="headerlink" title="输出(较少用)"></a>输出(较少用)</h2><h3 id="1-开漏输出-GPIO-Mode-Out-OD-0x14"><a href="#1-开漏输出-GPIO-Mode-Out-OD-0x14" class="headerlink" title="1.开漏输出(GPIO_Mode_Out_OD = 0x14)"></a>1.开漏输出<code>(GPIO_Mode_Out_OD = 0x14)</code></h3><h4 id="开漏输出：output-drain"><a href="#开漏输出：output-drain" class="headerlink" title="开漏输出：output drain"></a>开漏输出：<strong>o</strong>utput <strong>d</strong>rain</h4><p><img src="https://i.loli.net/2018/08/13/5b718200c53b9.png" alt="开漏输出"></p>
<h4 id="开漏输出：Open-Drain-Output"><a href="#开漏输出：Open-Drain-Output" class="headerlink" title="开漏输出：Open-Drain Output"></a><strong>开漏输出</strong>：<strong>O</strong>pen-<strong>D</strong>rain Output</h4><p>开漏输出就是不输出电压，低电平时接地，高电平时不接地。如果外接上拉电阻，则在输出高电平时电压会拉到上拉电阻的电源电压。这种方式适合在连接的外设电压比单片机电压低的时候。 [<a href="https://baike.baidu.com/item/%E5%BC%80%E6%BC%8F%E8%BE%93%E5%87%BA/9644177" target="_blank" rel="external">来源</a>]</p>
<p>可以输出高，低电平，连接数字器件。推挽结构一般是指两个三极管分别受两互补信号的控制，总是在一个三极管导通的时候另一个截止。高低电平由IC的电源低定。推挽电路是两个参数相同的三极管或MOSFET，以推挽方式存在于电路中，各负责正负半周的波形放大任务，电路工作时，两只对称的功率开关管每次只有一个导通，所以导通损耗小、效率高。输出既可以向负载灌电流，也可以从负载抽取电流。[<a href="http://www.360doc.com/content/15/0113/16/20337528_440450286.shtml" target="_blank" rel="external">来源</a>]</p>
<h3 id="2-推挽式输出-GPIO-Mode-Out-PP-0x10"><a href="#2-推挽式输出-GPIO-Mode-Out-PP-0x10" class="headerlink" title="2.推挽式输出(GPIO_Mode_Out_PP = 0x10)"></a>2.推挽式输出<code>(GPIO_Mode_Out_PP = 0x10)</code></h3><p><img src="https://i.loli.net/2018/08/13/5b718eb4aee27.png" alt="推挽式输出"></p>
<h4 id="推挽式输出：push-pull-output"><a href="#推挽式输出：push-pull-output" class="headerlink" title="推挽式输出：push-pull output"></a>推挽式输出：<strong>p</strong>ush-<strong>p</strong>ull output</h4><p><strong>注意：推挽式输出与开漏输出的区别只有在接Vdd的P-MOS</strong></p>
<p>可以输出高,低电平,连接数字器件;推挽结构一般是指两个三极管分别受两互补信号的控制,总是在一个三极管导通的时候另一个截止 [<a href="https://baike.baidu.com/item/%E6%8E%A8%E6%8C%BD%E8%BE%93%E5%87%BA?fromtitle=%E6%8E%A8%E6%8C%BD%E5%BC%8F%E8%BE%93%E5%87%BA&amp;fromid=2725066" target="_blank" rel="external">来源</a>]</p>
<p>推挽模式，有外接上拉电阻时， 逻辑1， 上拉电阻两端电压都是3.3V，PIN输出为高电平。 [<a href="http://www.eeworld.com.cn/mcu/article_2017092734789.html" target="_blank" rel="external">来源</a>]</p>
<h3 id="3-开漏复用输出GPIO-Mode-AF-OD-0x1C"><a href="#3-开漏复用输出GPIO-Mode-AF-OD-0x1C" class="headerlink" title="3.开漏复用输出GPIO_Mode_AF_OD = 0x1C"></a>3.开漏复用输出<code>GPIO_Mode_AF_OD = 0x1C</code></h3><p><img src="https://i.loli.net/2018/08/13/5b71924662df3.png" alt="开漏复用输出"></p>
<h4 id="开漏复用输出：Alternate-function-of-output-drain"><a href="#开漏复用输出：Alternate-function-of-output-drain" class="headerlink" title="开漏复用输出：Alternate-function of output drain"></a><strong>开漏复用输出</strong>：Alternate-function of output drain</h4><p>可以理解为GPIO口被用作第二功能时的配置情况（即并非作为通用IO口使用）。 [<a href="https://blog.csdn.net/bailyzheng/article/details/8071864" target="_blank" rel="external">来源</a>]</p>
<h3 id="4-推挽复用输出-GPIO-Mode-AF-PP-0x18"><a href="#4-推挽复用输出-GPIO-Mode-AF-PP-0x18" class="headerlink" title="4.推挽复用输出 GPIO_Mode_AF_PP = 0x18"></a>4.推挽复用输出 <code>GPIO_Mode_AF_PP = 0x18</code></h3><p><img src="https://i.loli.net/2018/08/13/5b7192b93289e.png" alt="推挽复用"></p>
<h4 id="推挽复用输出：Alternate-function-of-push-pull"><a href="#推挽复用输出：Alternate-function-of-push-pull" class="headerlink" title="推挽复用输出：Alternate-function of push-pull"></a><strong>推挽复用输出</strong>：Alternate-function of push-pull</h4><p>同上</p>
<p>[<a href="https://blog.csdn.net/lostand/article/details/70052918" target="_blank" rel="external">关于开漏与推挽输出的区别的高级介绍</a>]</p>
<p>[<a href="https://blog.csdn.net/bailyzheng/article/details/8071864" target="_blank" rel="external">更多关于GPIO功能的介绍</a>]</p>
<h2 id="三、GPIO接口的配置"><a href="#三、GPIO接口的配置" class="headerlink" title="三、GPIO接口的配置"></a>三、GPIO接口的配置</h2><p><strong>配置的主要过程有 </strong></p>
<blockquote>
<ul>
<li><p>配置时钟并使能</p>
</li>
<li><p>配置结构体</p>
</li>
<li><p>最后调用库函数初始化GPIO </p>
</li>
</ul>
</blockquote>
<h4 id="3-1-配置时钟并使能"><a href="#3-1-配置时钟并使能" class="headerlink" title="3.1 配置时钟并使能"></a>3.1 配置时钟并使能</h4><p>使用函数</p>
<blockquote>
<p>RCC_APB2PeriphClockCmd();</p>
</blockquote>
<p>该函数有两个形参，一个用来指明所要操作时钟的名称，一个选择开启还是关闭</p>
<p>这个函数的时钟有以下的选项可选</p>
<pre class=" language-lang-c"><code class="language-lang-c"> RCC_APB2Periph_AFIO              ((uint32_t)0x00000001)
 RCC_APB2Periph_GPIOA             ((uint32_t)0x00000004)
 RCC_APB2Periph_GPIOB             ((uint32_t)0x00000008)
 RCC_APB2Periph_GPIOC             ((uint32_t)0x00000010)
 RCC_APB2Periph_GPIOD             ((uint32_t)0x00000020)
 RCC_APB2Periph_GPIOE             ((uint32_t)0x00000040)
 RCC_APB2Periph_GPIOF             ((uint32_t)0x00000080)
 RCC_APB2Periph_GPIOG             ((uint32_t)0x00000100)
 RCC_APB2Periph_ADC1              ((uint32_t)0x00000200)
 RCC_APB2Periph_ADC2              ((uint32_t)0x00000400)
 RCC_APB2Periph_TIM1              ((uint32_t)0x00000800)
 RCC_APB2Periph_SPI1              ((uint32_t)0x00001000)
 RCC_APB2Periph_TIM8              ((uint32_t)0x00002000)
 RCC_APB2Periph_USART1            ((uint32_t)0x00004000)
 RCC_APB2Periph_ADC3              ((uint32_t)0x00008000)
 RCC_APB2Periph_TIM15             ((uint32_t)0x00010000)
 RCC_APB2Periph_TIM16             ((uint32_t)0x00020000)
 RCC_APB2Periph_TIM17             ((uint32_t)0x00040000)
 RCC_APB2Periph_TIM9              ((uint32_t)0x00080000)
 RCC_APB2Periph_TIM10             ((uint32_t)0x00100000)
 RCC_APB2Periph_TIM11             ((uint32_t)0x00200000)
</code></pre>
<p>第二项状态有ENABLE和DISABLE可选</p>
<h4 id="3-2选择引脚"><a href="#3-2选择引脚" class="headerlink" title="3.2选择引脚"></a>3.2选择引脚</h4><h5 id="3-2-1先定义一个结构体"><a href="#3-2-1先定义一个结构体" class="headerlink" title="3.2.1先定义一个结构体"></a>3.2.1先定义一个结构体</h5><p><code>GPIO_InitTypeDef GPIO_InitStructure;</code> </p>
<p>我们到stm32f10x_gpio.h中可以看到，ST官方的库函数对这个结构体的定义是这样的</p>
<pre class=" language-lang-c"><code class="language-lang-c">typedef struct
{
  uint16_t GPIO_Pin;           
  GPIOSpeed_TypeDef GPIO_Speed;  
  GPIOMode_TypeDef GPIO_Mode;    
} GPIO_InitTypeDef;
</code></pre>
<p>可见该结构体主要有这个内容：</p>
<blockquote>
<p>GPIO_Pin：GPIO引脚，用来指引对某个IO接口进行操作</p>
<p>GPIOSpeed：GPIO引脚的速度，调速度，但是暂时不知道这个速度意味着什么</p>
<p>GPIO_Mode：GPIO引脚的模式，8种模式，上文已经介绍过了</p>
</blockquote>
<p>有关于GPIO引脚的翻转速度有以下取值：</p>
<blockquote>
<p>GPIO_Speed_10MHz<br>GPIO_Speed_2MHz<br>GPIO_Speed_50MHz</p>
</blockquote>
<h5 id="3-2-2-初始化结构的值"><a href="#3-2-2-初始化结构的值" class="headerlink" title="3.2.2 初始化结构的值"></a>3.2.2 初始化结构的值</h5><p>就是分别对引脚、速度、模式经行初值赋值，比如说</p>
<pre class=" language-lang-C"><code class="language-lang-C">GPIO_initTypeDef GPIO_initStructures;
GPIO_initStructures.GPIO_Pin=GPIO_Pin_8;
GPIO_initStructues.GPIO_Speed=GPIO_Speed_50MHz;
GPIO_initStructures.GPIO_Mode=GPIO_Mode_OUT_PP;
</code></pre>
<h4 id="3-3-初始化GPIO"><a href="#3-3-初始化GPIO" class="headerlink" title="3.3 初始化GPIO"></a>3.3 初始化GPIO</h4><pre><code>GPIO_Init(GPIOX, &amp;GPIO_InitStructure);
</code></pre><p>其中的GPIOX是指引脚组名，比如说GPIOA</p>
<h3 id="四、GPIO接口的使用"><a href="#四、GPIO接口的使用" class="headerlink" title="四、GPIO接口的使用"></a>四、GPIO接口的使用</h3><p>GPIO_SetBits 寄存器：BSRR </p>
<p>GPIO_ResetBits 寄存器：BRR</p>
<p>GPIO_WriteBit 寄存器：BSRR BRR </p>
<p>GPIO_Write 寄存器：ODR </p>
<div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:left">函数</th>
<th>寄存器</th>
<th>用处</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">GPIO_SetBits</td>
<td>BSRR</td>
<td>置某一个引脚为高电平</td>
</tr>
<tr>
<td style="text-align:left">GPIO_ResetBits</td>
<td>BRR</td>
<td>置某一个引脚为低电平</td>
</tr>
<tr>
<td style="text-align:left">GPIO_WriteBit</td>
<td>BSRR BRR</td>
<td>单个置0或1</td>
</tr>
<tr>
<td style="text-align:left">GPIO_Write</td>
<td>ODR</td>
<td>一次给多个引脚赋值，注意是16位的</td>
</tr>
</tbody>
</table>
</div>

      
      
        <div class="page-reward">
          <p><a href="javascript:void(0)" onclick="dashangToggle()" class="dashang">赏</a></p>
          <div class="hide_box"></div>
          <div class="shang_box">
            <a class="shang_close" href="javascript:void(0)" onclick="dashangToggle()">×</a>
            <div class="shang_tit">
              <p>纯属好玩</p>
            </div>
            <div class="shang_payimg">
              <img src="/img/alipayimg.jpg" alt="扫码支持" title="扫一扫" />
            </div>
              <div class="pay_explain">扫码打赏，你说多少就多少</div>
            <div class="shang_payselect">
              
                <div class="pay_item checked" data-id="alipay">
                  <span class="radiobox"></span>
                  <span class="pay_logo"><img src="/img/alipay.png" alt="支付宝" /></span>
                </div>
              
              
                <div class="pay_item" data-id="wechat">
                  <span class="radiobox"></span>
                  <span class="pay_logo"><img src="/img/weixin.png" alt="微信" /></span>
                </div>
              
            </div>
            <div class="shang_info">
              <p>打开<span id="shang_pay_txt">支付宝</span>扫一扫，即可进行扫码打赏哦</p>
            </div>
          </div>
        </div>
        <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/zepto/1.2.0/zepto.min.js"></script>
        <script type="text/javascript">
          $(".pay_item").click(function(){
            $(this).addClass('checked').siblings('.pay_item').removeClass('checked');
            var dataid=$(this).attr('data-id');
            $(".shang_payimg img").attr("src","/img/"+dataid+"img.jpg");
            $("#shang_pay_txt").text(dataid=="alipay"?"支付宝":"微信");
          });
          function dashangToggle(){
            
            $(".hide_box").fadeToggle();
            $(".shang_box").fadeToggle();
          }
        </script>
      
    </div>
    
  </div>
  
    
    <div class="copyright">
        <p><span>本文标题:</span><a href="/2018/08/17/GPIO/">GPIO的硬件情况与软件配置</a></p>
        <p><span>文章作者:</span><a href="/" title="访问 Engou 的个人博客">Engou</a></p>
        <p><span>发布时间:</span>2018年08月17日 - 23时52分</p>
        <p><span>最后更新:</span>2018年09月08日 - 17时14分</p>
        <p>
            <span>原始链接:</span><a class="post-url" href="/2018/08/17/GPIO/" title="GPIO的硬件情况与软件配置">http://yoursite.com/2018/08/17/GPIO/</a>
            <span class="copy-path" data-clipboard-text="原文: http://yoursite.com/2018/08/17/GPIO/　　作者: Engou" title="点击复制文章链接"><i class="fa fa-clipboard"></i></span>
            <script src="/js/clipboard.min.js"></script>
            <script> var clipboard = new Clipboard('.copy-path'); </script>
        </p>
        <p>
            <span>许可协议:</span><i class="fa fa-creative-commons"></i> <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/3.0/cn/" title="中国大陆 (CC BY-NC-SA 3.0 CN)" target = "_blank">"署名-非商用-相同方式共享 3.0"</a> 转载请保留原文链接及作者。
        </p>
    </div>



<nav id="article-nav">
  
    <a href="/2018/08/24/战争热中的冷思考——张召忠/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption"><</strong>
      <div class="article-nav-title">
        
          战争热中的冷思考——张召忠
        
      </div>
    </a>
  
  
    <a href="/2018/08/17/插入视频/" id="article-nav-older" class="article-nav-link-wrap">
      <div class="article-nav-title">在我的博客上插入b站视频</div>
      <strong class="article-nav-caption">></strong>
    </a>
  
</nav>

  
</article>

    <div id="toc" class="toc-article">
    <strong class="toc-title">文章目录</strong>
    <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#一、GPIO接口的情况"><span class="toc-number">1.</span> <span class="toc-text">一、GPIO接口的情况</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1、数量与编号"><span class="toc-number">1.1.</span> <span class="toc-text">1、数量与编号</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-1-GPIO引脚的组"><span class="toc-number">1.1.1.</span> <span class="toc-text">1.1 GPIO引脚的组</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2、功能与性质"><span class="toc-number">1.2.</span> <span class="toc-text">2、功能与性质</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#2-1第一列：Pins-主要表现的是该引脚在不同型号开发板上的序号"><span class="toc-number">1.2.0.1.</span> <span class="toc-text">2.1第一列：Pins 主要表现的是该引脚在不同型号开发板上的序号</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2第二列：Pin-name-这个不用说了，就是引脚的名字"><span class="toc-number">1.2.0.2.</span> <span class="toc-text">2.2第二列：Pin name 这个不用说了，就是引脚的名字</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-3-第三列：Type-引脚的类型"><span class="toc-number">1.2.0.3.</span> <span class="toc-text">2.3 第三列：Type 引脚的类型</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-4-第四列：I-O-Level-是否可容忍5v电压"><span class="toc-number">1.2.0.4.</span> <span class="toc-text">2.4 第四列：I/O Level 是否可容忍5v电压</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-5第五列：Main-functions-引脚的主要功能-通用功能"><span class="toc-number">1.2.0.5.</span> <span class="toc-text">2.5第五列：Main functions 引脚的主要功能(通用功能)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-6-第六列：Alternate-functions-可选择的功能-复用功能"><span class="toc-number">1.2.0.6.</span> <span class="toc-text">2.6 第六列：Alternate functions (可选择的功能) 复用功能</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#二、GPIO的几种模式"><span class="toc-number">2.</span> <span class="toc-text">二、GPIO的几种模式</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#输入"><span class="toc-number">2.1.</span> <span class="toc-text">输入</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-模拟输入-GPIO-Mode-AIN-0x0"><span class="toc-number">2.1.1.</span> <span class="toc-text">1.模拟输入(GPIO_Mode_AIN = 0x0)</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#模拟输入：analog-input"><span class="toc-number">2.1.1.1.</span> <span class="toc-text">模拟输入：analog input</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-浮空输入-GPIO-Mode-IN-FLOATING-0x04"><span class="toc-number">2.1.2.</span> <span class="toc-text">2.浮空输入(GPIO_Mode_IN_FLOATING = 0x04)</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#浮空输入：floating-input"><span class="toc-number">2.1.2.1.</span> <span class="toc-text">浮空输入：floating input</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-输入下拉-GPIO-Mode-IPD-0x28"><span class="toc-number">2.1.3.</span> <span class="toc-text">3.输入下拉(GPIO_Mode_IPD = 0x28)</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#输入下拉：input-down"><span class="toc-number">2.1.3.1.</span> <span class="toc-text">输入下拉：input down</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-输入上拉-GPIO-Mode-IPU-0x48"><span class="toc-number">2.1.4.</span> <span class="toc-text">4.输入上拉(GPIO_Mode_IPU =0x48)</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#输入上拉：input-up"><span class="toc-number">2.1.4.1.</span> <span class="toc-text">输入上拉：input up</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#输出-较少用"><span class="toc-number">2.2.</span> <span class="toc-text">输出(较少用)</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-开漏输出-GPIO-Mode-Out-OD-0x14"><span class="toc-number">2.2.1.</span> <span class="toc-text">1.开漏输出(GPIO_Mode_Out_OD = 0x14)</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#开漏输出：output-drain"><span class="toc-number">2.2.1.1.</span> <span class="toc-text">开漏输出：output drain</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#开漏输出：Open-Drain-Output"><span class="toc-number">2.2.1.2.</span> <span class="toc-text">开漏输出：Open-Drain Output</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-推挽式输出-GPIO-Mode-Out-PP-0x10"><span class="toc-number">2.2.2.</span> <span class="toc-text">2.推挽式输出(GPIO_Mode_Out_PP = 0x10)</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#推挽式输出：push-pull-output"><span class="toc-number">2.2.2.1.</span> <span class="toc-text">推挽式输出：push-pull output</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-开漏复用输出GPIO-Mode-AF-OD-0x1C"><span class="toc-number">2.2.3.</span> <span class="toc-text">3.开漏复用输出GPIO_Mode_AF_OD = 0x1C</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#开漏复用输出：Alternate-function-of-output-drain"><span class="toc-number">2.2.3.1.</span> <span class="toc-text">开漏复用输出：Alternate-function of output drain</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-推挽复用输出-GPIO-Mode-AF-PP-0x18"><span class="toc-number">2.2.4.</span> <span class="toc-text">4.推挽复用输出 GPIO_Mode_AF_PP = 0x18</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#推挽复用输出：Alternate-function-of-push-pull"><span class="toc-number">2.2.4.1.</span> <span class="toc-text">推挽复用输出：Alternate-function of push-pull</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#三、GPIO接口的配置"><span class="toc-number">2.3.</span> <span class="toc-text">三、GPIO接口的配置</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#3-1-配置时钟并使能"><span class="toc-number">2.3.0.1.</span> <span class="toc-text">3.1 配置时钟并使能</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-2选择引脚"><span class="toc-number">2.3.0.2.</span> <span class="toc-text">3.2选择引脚</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#3-2-1先定义一个结构体"><span class="toc-number">2.3.0.2.1.</span> <span class="toc-text">3.2.1先定义一个结构体</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#3-2-2-初始化结构的值"><span class="toc-number">2.3.0.2.2.</span> <span class="toc-text">3.2.2 初始化结构的值</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-3-初始化GPIO"><span class="toc-number">2.3.0.3.</span> <span class="toc-text">3.3 初始化GPIO</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#四、GPIO接口的使用"><span class="toc-number">2.3.1.</span> <span class="toc-text">四、GPIO接口的使用</span></a></li></ol></li></ol></li></ol>
</div>
<input type="button" id="tocButton" value="隐藏目录"  title="点击按钮隐藏或者显示文章目录">

<script src="https://7.url.cn/edu/jslib/comb/require-2.1.6,jquery-1.9.1.min.js"></script>
<script>
    var valueHide = "隐藏目录";
    var valueShow = "显示目录";

    if ($(".left-col").is(":hidden")) {
        $("#tocButton").attr("value", valueShow);
    }
    $("#tocButton").click(function() {
        if ($("#toc").is(":hidden")) {
            $("#tocButton").attr("value", valueHide);
            $("#toc").slideDown(320);
        }
        else {
            $("#tocButton").attr("value", valueShow);
            $("#toc").slideUp(350);
        }
    })
    if ($(".toc").length < 1) {
        $("#toc, #tocButton").hide();
    }
</script>





<div class="bdsharebuttonbox">
	<a href="#" class="fx fa-weibo bds_tsina" data-cmd="tsina" title="分享到新浪微博"></a>
	<a href="#" class="fx fa-weixin bds_weixin" data-cmd="weixin" title="分享到微信"></a>
	<a href="#" class="fx fa-qq bds_sqq" data-cmd="sqq" title="分享到QQ好友"></a>
	<a href="#" class="fx fa-facebook-official bds_fbook" data-cmd="fbook" title="分享到Facebook"></a>
	<a href="#" class="fx fa-twitter bds_twi" data-cmd="twi" title="分享到Twitter"></a>
	<a href="#" class="fx fa-linkedin bds_linkedin" data-cmd="linkedin" title="分享到linkedin"></a>
	<a href="#" class="fx fa-files-o bds_copy" data-cmd="copy" title="分享到复制网址"></a>
</div>
<script>window._bd_share_config={"common":{"bdSnsKey":{},"bdText":"","bdMini":"2","bdMiniList":false,"bdPic":"","bdStyle":"2","bdSize":"24"},"share":{}};with(document)0[(getElementsByTagName('head')[0]||body).appendChild(createElement('script')).src='/static/api/js/share.js?v=89860593.js?cdnversion='+~(-new Date()/36e5)];</script>




    
        <div id="gitments"></div>
<script src="/js/gitment.browser.js"></script>
<script>
    var gitment = new Gitment({
      id: window.location.pathname,
      owner: 'luuman',
      repo: 'luuman.github.io',
      oauth: {
        client_id: 'null',
        client_secret: 'null',
      },
    })
    gitment.render('gitments')
</script>
    



    <div class="scroll" id="post-nav-button">
        
            <a href="/2018/08/24/战争热中的冷思考——张召忠/" title="上一篇: 战争热中的冷思考——张召忠">
                <i class="fa fa-angle-left"></i>
            </a>
        
        <a title="文章列表"><i class="fa fa-bars"></i><i class="fa fa-times"></i></a>
        
            <a href="/2018/08/17/插入视频/" title="下一篇: 在我的博客上插入b站视频">
                <i class="fa fa-angle-right"></i>
            </a>
        
    </div>
    <ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2018/09/12/矩阵按键/">矩阵按键</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/09/05/模拟电路/">模拟电路</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/09/04/电路分析/">电路分析</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/09/03/大物实验/">大物实验</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/08/24/战争热中的冷思考——张召忠/">战争热中的冷思考——张召忠</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/08/17/GPIO/">GPIO的硬件情况与软件配置</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/08/17/插入视频/">在我的博客上插入b站视频</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/08/17/蓝眼睛岛/">蓝眼睛岛</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/08/17/日记/">讨论与思考</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/08/17/hello-world/">如何配置hexo</a></li></ul>
    <script src="https://7.url.cn/edu/jslib/comb/require-2.1.6,jquery-1.9.1.min.js"></script>
    <script>
        $(".post-list").addClass("toc-article");
        $(".post-list-item a").attr("target","_blank");
        $("#post-nav-button > a:nth-child(2)").click(function() {
            $(".fa-bars, .fa-times").toggle();
            $(".post-list").toggle(300);
            if ($(".toc").length > 0) {
                $("#toc, #tocButton").toggle(200, function() {
                    if ($(".switch-area").is(":visible")) {
                        $("#tocButton").attr("value", valueHide);
                        }
                    })
            }
            else {
            }
        })
    </script>



    <script>
        
    </script>
</div>
      <footer id="footer">
    <div class="outer">
        <div id="footer-info">
            <div class="footer-left">
                &copy; 2018 Engou
            </div>
            <div class="footer-right">
                <a href="http://hexo.io/" target="_blank">Hexo</a>  Theme <a href="https://github.com/luuman/hexo-theme-spfk" target="_blank">spfk</a> by luuman
            </div>
        </div>
        
            <div class="visit">
                
                    <span id="busuanzi_container_site_pv" style='display:none'>
                        <span id="site-visit" >海贼到访数: 
                            <span id="busuanzi_value_site_uv"></span>
                        </span>
                    </span>
                
                
                    <span>, </span>
                
                
                    <span id="busuanzi_container_page_pv" style='display:none'>
                        <span id="page-visit">本页阅读量: 
                            <span id="busuanzi_value_page_pv"></span>
                        </span>
                    </span>
                
            </div>
        
    </div>
</footer>

    </div>
    <script src="https://7.url.cn/edu/jslib/comb/require-2.1.6,jquery-1.9.1.min.js"></script>
<script src="/js/main.js"></script>

    <script>
        $(document).ready(function() {
            var backgroundnum = 24;
            var backgroundimg = "url(/background/bg-x.jpg)".replace(/x/gi, Math.ceil(Math.random() * backgroundnum));
            $("#mobile-nav").css({"background-image": backgroundimg,"background-size": "cover","background-position": "center"});
            $(".left-col").css({"background-image": backgroundimg,"background-size": "cover","background-position": "center"});
        })
    </script>





<div class="scroll" id="scroll">
    <a href="#"><i class="fa fa-arrow-up"></i></a>
    <a href="#comments"><i class="fa fa-comments-o"></i></a>
    <a href="#footer"><i class="fa fa-arrow-down"></i></a>
</div>
<script>
    $(document).ready(function() {
        if ($("#comments").length < 1) {
            $("#scroll > a:nth-child(2)").hide();
        };
    })
</script>

<script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js">
</script>

  <script language="javascript">
    $(function() {
        $("a[title]").each(function() {
            var a = $(this);
            var title = a.attr('title');
            if (title == undefined || title == "") return;
            a.data('title', title).removeAttr('title').hover(

            function() {
                var offset = a.offset();
                $("<div id=\"anchortitlecontainer\"></div>").appendTo($("body")).html(title).css({
                    top: offset.top - a.outerHeight() - 15,
                    left: offset.left + a.outerWidth()/2 + 1
                }).fadeIn(function() {
                    var pop = $(this);
                    setTimeout(function() {
                        pop.remove();
                    }, pop.text().length * 800);
                });
            }, function() {
                $("#anchortitlecontainer").remove();
            });
        });
    });
</script>


  </div>
</body>
</html>